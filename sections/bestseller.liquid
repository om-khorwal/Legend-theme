{{ 'bestseller.css' | asset_url | stylesheet_tag }}

<div class="product-tabs">
  <div class="tabs">
    <button class="tab-button active" onclick="switchTab('bestsellers')">Bestsellers</button>
    <button class="tab-button" onclick="switchTab('new-arrivals')">New Arrivals</button>
  </div>

  <div id="bestsellers" class="tab-content active">
    {% for block in section.blocks %}
      {% if block.type == 'bestseller' %}
        <div class="product-card">
          <div class="image-carousel">
            {% for i in (1..6) %}
              {% assign image_key = "image_" | append: i %}
              {% assign img = block.settings[image_key] %}
              {% if img %}
                <img src="{{ img | image_url: width: 300 }}" alt="Product Image {{ i }}" width="300" height="300" />
              {% endif %}
            {% endfor %}
            
          </div>
          <h4>{{ block.settings.title }}</h4>
          <p class="price">{{ block.settings.price }}</p>
          <p class="variant">{{ block.settings.variant }}</p>
          <button class="add-to-cart">{{ block.settings.button_text }}</button>
        </div>
      {% endif %}
    {% endfor %}
  </div>

  <div id="new-arrivals" class="tab-content">
    {% for block in section.blocks %}
      {% if block.type == 'newarrival' %}
        <div class="product-card">
          <div class="image-carousel">
            {% for i in (1..6) %}
              {% assign image_key = "image_" | append: i %}
              {% assign img = block.settings[image_key] %}
              {% if img %}
                <img src="{{ img | image_url: width: 300 }}" alt="Product Image {{ i }}" width="300" height="300" />
              {% endif %}
            {% endfor %}
            
          </div>
          <h4>{{ block.settings.title }}</h4>
          <p class="price">{{ block.settings.price }}</p>
          <p class="variant">{{ block.settings.variant }}</p>
          <button class="add-to-cart">{{ block.settings.button_text }}</button>
        </div>
      {% endif %}
    {% endfor %}
  </div>
</div>

<script>
  function switchTab(id) {
    document.querySelectorAll('.tab-button').forEach((btn) => btn.classList.remove('active'));
    document.querySelectorAll('.tab-content').forEach((tab) => tab.classList.remove('active'));
    document.getElementById(id).classList.add('active');
    event.target.classList.add('active');
  }
</script>

{% schema %}
{
  "name": "Product Tabs",
  "max_blocks": 16,
  "blocks": [
    {
      "type": "bestseller",
      "name": "Bestseller Product",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Product Image"
        },
        {
          "type": "text",
          "id": "title",
          "label": "Product Title"
        },
        {
          "type": "text",
          "id": "price",
          "label": "Price"
        },
        {
          "type": "text",
          "id": "variant",
          "label": "Variant (Size/Type)"
        },
        {
          "type": "text",
          "id": "button_text",
          "label": "Add to Cart Text",
          "default": "Add to Cart"
        }
      ]
    },
    {
      "type": "newarrival",
      "name": "New Arrival Product",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Product Image"
        },
        {
          "type": "text",
          "id": "title",
          "label": "Product Title"
        },
        {
          "type": "text",
          "id": "price",
          "label": "Price"
        },
        {
          "type": "text",
          "id": "variant",
          "label": "Variant (Size/Type)"
        },
        {
          "type": "text",
          "id": "button_text",
          "label": "Add to Cart Text",
          "default": "Add to Cart"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Product Tab Section"
    }
  ]
}
{% endschema %}
